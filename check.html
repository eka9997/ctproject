<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ë¹„ë²„ ì—°êµ¬ì†Œ ë³´ì•ˆ íŒ¨ë„ í¼ì¦</title>
<style>
  body { font-family: Arial, sans-serif; text-align: center; max-width: 1000px; margin: auto; padding: 20px; }
  h1 { font-size: 28px; margin-bottom: 10px; color: #2e7d32; }
  .description { text-align: left; background: #f5f5f5; padding: 15px; border-radius: 8px; line-height: 1.5; margin-bottom: 20px; }
  .rules { background: #fff8e1; padding: 10px; margin-top: 10px; border-left: 5px solid #ffa000; }
  .header { display: flex; justify-content: space-between; margin-bottom: 10px; font-weight: bold; font-size: 18px; }
  .grid-container { display: flex; justify-content: space-between; margin-top: 10px; }
  .grid-wrapper { text-align: center; }
  .grid { display: grid; grid-template-columns: repeat(5, 60px); grid-template-rows: repeat(5, 60px); gap: 5px; margin: 10px; }
  .cell { width: 60px; height: 60px; background-color: white; border: 1px solid #333; cursor: pointer; }
  .black { background-color: black; }
  .timer { font-size: 20px; color: #d32f2f; }
  .result { margin-top: 15px; font-size: 20px; font-weight: bold; }
  .solution-grid { border: 3px solid transparent; }
  .blink-red { animation: blink 0.5s infinite alternate; border: 3px solid red !important; }
  .warning-light { width: 20px; height: 20px; background-color: red; border-radius: 50%; display: inline-block; animation: blink 0.5s infinite alternate; margin-left: 10px; }
  @keyframes blink { 0% { opacity: 1; } 100% { opacity: 0; } }
  .firework { position: fixed; width: 10px; height: 10px; background: red; border-radius: 50%; animation: explode 1s ease-out forwards; pointer-events: none; }
  @keyframes explode { 0% { transform: scale(1); opacity: 1; } 100% { transform: scale(5); opacity: 0; } }
</style>
</head>
<body>

<h1>ğŸ” ë¹„ë²„ ì—°êµ¬ì†Œ ë³´ì•ˆ íŒ¨ë„ í¼ì¦</h1>

<div class="description">
  ë¹„ë²„ ì—°êµ¬ì†Œì˜ ì‹¤í—˜ ë°ì´í„°ê°€ ì ê²¨ ìˆëŠ” ë³´ì•ˆ íŒ¨ë„ì´ ìˆìŠµë‹ˆë‹¤.<br>
  íŒ¨ë„ì€ 5Ã—5 íšŒë¡œíŒìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ì „ë¥˜ê°€ íë¥´ëŠ” ì¹¸(â—)ê³¼ íë¥´ì§€ ì•ŠëŠ” ì¹¸(â—‹)ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.<br>
  <div class="rules">
    <strong>ë³´ì•ˆ ê·œì¹™:</strong><br>
    1ï¸âƒ£ ê° í–‰ì—ëŠ” ë°˜ë“œì‹œ â—ê°€ 3ê°œ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.<br>
    2ï¸âƒ£ ê° ì—´ì—ëŠ” â—ê°€ 2ê°œ ì´ìƒ, 4ê°œ ì´í•˜ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.<br>
    3ï¸âƒ£ ë„¤ ê°œì˜ ëª¨ì„œë¦¬ ì¹¸ì€ ëª¨ë‘ ê°™ì€ ìƒíƒœ(â— ë˜ëŠ” â—‹)ì—¬ì•¼ í•©ë‹ˆë‹¤.<br>
    4ï¸âƒ£ ì¤‘ì•™ ì¹¸(3í–‰ 3ì—´)ì€ ë°˜ë“œì‹œ â—ì…ë‹ˆë‹¤.<br>
  </div>
  ì œí•œ ì‹œê°„ 2ë¶„, ìµœëŒ€ 4íšŒ ì‹œë„ ì•ˆì— í¼ì¦ì„ í•´ê²°í•˜ì„¸ìš”.<br>
  4íšŒ ì‹¤íŒ¨ ì‹œ ì •ë‹µì´ ìë™ìœ¼ë¡œ ê³µê°œë©ë‹ˆë‹¤.
</div>

<div class="header">
  <div>ë‚´ê°€ ì‹œë„í•œ ê²°ê³¼</div>
  <div class="timer" id="timer">ë‚¨ì€ ì‹œê°„: 02:00</div>
  <div>ì •ë‹µ ê²©ì</div>
</div>

<div>ì‹œë„ íšŸìˆ˜: <span id="attempts">0</span>/4 <span id="warning"></span></div>

<div class="grid-container">
  <div class="grid-wrapper">
    <div class="grid" id="userGrid"></div>
  </div>
  <div class="grid-wrapper">
    <div class="grid solution-grid" id="solutionGrid"></div>
  </div>
</div>

<button onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
<div class="result" id="result"></div>

<script>
const rows = 5, cols = 5;
const problemGrid = [
  [1, 0, 0, 1, 1],
  [0, 1, 1, 1, 1],
  [0, 0, 1, 1, 0],
  [1, 1, 0, 0, 1],
  [1, 1, 0, 1, 1]
];
const solutionGridData = [
  [1, 0, 0, 1, 1],
  [0, 0, 1, 1, 1],
  [1, 0, 1, 1, 0],
  [1, 1, 0, 0, 1],
  [1, 1, 0, 0, 1]
];

const userGridElement = document.getElementById("userGrid");
const solutionGridElement = document.getElementById("solutionGrid");
const attemptsElement = document.getElementById("attempts");
const warningElement = document.getElementById("warning");
let wrongAttempts = 0;

// ì‚¬ìš©ì ê²©ì ìƒì„±
for (let i = 0; i < rows; i++) {
  for (let j = 0; j < cols; j++) {
    const cell = document.createElement("div");
    cell.classList.add("cell");
    if (problemGrid[i][j] === 1) cell.classList.add("black");
    cell.dataset.row = i;
    cell.dataset.col = j;
    cell.addEventListener("click", () => cell.classList.toggle("black"));
    userGridElement.appendChild(cell);
  }
}

// ì •ë‹µ ê²©ì (ì²˜ìŒ í°ìƒ‰)
for (let i = 0; i < rows * cols; i++) {
  const cell = document.createElement("div");
  cell.classList.add("cell");
  solutionGridElement.appendChild(cell);
}

function checkAnswer() {
  const userCells = userGridElement.children;
  let correct = true;
  for (let i = 0; i < rows * cols; i++) {
    const row = Math.floor(i / cols);
    const col = i % cols;
    const isBlack = userCells[i].classList.contains("black") ? 1 : 0;
    if (isBlack !== solutionGridData[row][col]) correct = false;
  }

  wrongAttempts++;
  attemptsElement.textContent = wrongAttempts;

  if (wrongAttempts === 3) {
    warningElement.innerHTML = '<span class="warning-light"></span> ë§ˆì§€ë§‰ ì‹œë„ì…ë‹ˆë‹¤!';
  }

  if (correct) {
    document.getElementById("result").textContent = "ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ì •ë‹µì…ë‹ˆë‹¤!";
    fireworks();
    animateSolutionReveal();
    clearInterval(timerInterval);
  } else if (wrongAttempts >= 4) {
    document.getElementById("result").textContent = "âŒ 4íšŒ ì‹¤íŒ¨! ì •ë‹µì„ ê³µê°œí•©ë‹ˆë‹¤.";
    fireworks();
    animateSolutionReveal();
    clearInterval(timerInterval);
  } else {
    document.getElementById("result").textContent = "âŒ ì •ë‹µì´ ì•„ë‹™ë‹ˆë‹¤!";
    solutionGridElement.classList.add("blink-red");
    setTimeout(() => solutionGridElement.classList.remove("blink-red"), 2000);
  }
}

function animateSolutionReveal() {
  const solCells = solutionGridElement.children;
  let index = 0;
  const interval = setInterval(() => {
    if (index >= rows * cols) {
      clearInterval(interval);
      return;
    }
    const row = Math.floor(index / cols);
    const col = index % cols;
    if (solutionGridData[row][col] === 1) {
      solCells[index].classList.add("black");
    }
    index++;
  }, 100);
}

function fireworks() {
  for (let i = 0; i < 30; i++) {
    const firework = document.createElement("div");
    firework.classList.add("firework");
    firework.style.top = Math.random() * window.innerHeight + "px";
    firework.style.left = Math.random() * window.innerWidth + "px";
    document.body.appendChild(firework);
    setTimeout(() => firework.remove(), 1000);
  }
}

let timeLeft = 120;
const timerElement = document.getElementById("timer");
const timerInterval = setInterval(() => {
  timeLeft--;
  const minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');
  const seconds = String(timeLeft % 60).padStart(2, '0');
  timerElement.textContent = `ë‚¨ì€ ì‹œê°„: ${minutes}:${seconds}`;
  if (timeLeft <= 0) {
    clearInterval(timerInterval);
    document.getElementById("result").textContent = "â° ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ì •ë‹µì„ ê³µê°œí•©ë‹ˆë‹¤.";
    fireworks();
    animateSolutionReveal();
  }
}, 1000);
</script>

</body>
</html>


